</html><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug - ESP8266 Configuration Portal</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="debug.css">
</head>
<body class="dark-mode">
    <div class="app-container">
        <header class="app-header">
            <div class="header-content">
                <h1 class="app-title">ESP8266 Configuration Portal</h1>
            </div>
        </header>

        <nav class="main-nav">
            <div class="nav-container">
                <a href="/" class="nav-item" data-tab="wifi">
                    <span class="nav-icon">üì∂</span>
                    <span class="nav-text">WiFi Configuration</span>
                </a>
                <a href="/slaves.html" class="nav-item" data-tab="slaves">
                    <span class="nav-icon">üîß</span>
                    <span class="nav-text">Modbus Slaves</span>
                </a>
                <a href="/settings.html" class="nav-item" data-tab="settings">
                    <span class="nav-icon">‚öôÔ∏è</span>
                    <span class="nav-text">Settings</span>
                </a>
                <a href="/debug.html" class="nav-item active" data-tab="debug">
                    <span class="nav-icon">üêõ</span>
                    <span class="nav-text">Debug</span>
                </a>
            </div>
        </nav>

        <main class="main-content">
            <div class="content-header">
                <h2>Debug Console</h2>
                <p class="content-description">
                    When enabled, MQTT messages are published AND displayed here for debugging.
                </p>
            </div>

            <!-- Simple Toggle -->
            <div class="debug-controls">
                <label class="toggle-label">
                    <span>Debug Mode:</span>
                    <div class="toggle-switch">
                        <input type="checkbox" id="debugEnabled">
                        <span class="toggle-slider"></span>
                    </div>
                    <span id="debugStatus">OFF</span>
                </label>
                <p class="section-description">
                    ON: Messages go to MQTT + Web Console | OFF: Messages go to MQTT only
                </p>
            </div>

            <!-- Console -->
            <div class="config-panel">
                <div class="panel-header">
                    <h3 class="panel-title">
                        <span class="nav-icon">üìã</span>
                        Live MQTT Messages
                    </h3>
                    <button class="btn btn-secondary" id="clearConsole" style="margin-top: 8px;">Clear</button>
                </div>
                <div class="debug-console" id="debugConsole">
                    <div class="console-line">Debug mode is OFF. Enable to see MQTT messages here.</div>
                </div>
            </div>

            <!-- Info Panel -->
            <section class="config-panel" aria-labelledby="info-heading">
                <header class="panel-header">
                    <h3 id="info-heading" class="panel-title">
                        <span class="panel-icon">‚ÑπÔ∏è</span>
                        How to Use
                    </h3>
                </header>
                
                <div class="section-description">
                    <p><strong>Step 1:</strong> Enter the Slave ID and Slave Name exactly as configured</p>
                    <p><strong>Step 2:</strong> Click "Search Configuration" to load the slave data</p>
                    <p><strong>Step 3:</strong> Edit the JSON configuration in the text area</p>
                    <p><strong>Step 4:</strong> Click "Save Changes" to update the configuration</p>
                    <p><strong>Note:</strong> The configuration will be validated before saving</p>
                </div>
            </section>
        </main>

        <footer class="app-footer">
            <div class="footer-content"></div>
        </footer>
    </div>

    <script src="debug.js"></script>
</body>
</html>